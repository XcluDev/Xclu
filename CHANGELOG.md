Xclu: Changelog
 
#### 2021-11-25
- В Webcamera добавлена функция Draw.
- Для быстрого вывода изображений добавлено создание QImage путем Link из XObject.
 
#### 2021-11-25
- Встроена библиотека OpenCV 3.1 из openFrameworks
- В XRaster добавлена возможность линковки link(), то есть неглубокого копирования [не отлажено, из-за bytes_per_line].
- Создан модуль RenderArea - область для рисования, этот модуль встраивается в Window,
  и при старте ищет модули RenderElement, которые на нам отрисовывают UI, сейчас в виде прямоугольников.  
 
#### 2021-11-13
- Реализована фиксированная типизация вызовов между модулями XCallType, вместо QString;
  это значительно эффестивнее.


#### 2021-11-01
- В Window добавлена функция Grab - захват окна, которая работает как перерендеринг в Pixelmap
- Добавлена реализация NDI send - отправка изображений по протоколу NDI.

#### 2021-07-18
- В XModuleVisual реализована обработка событий мыши (также предусмотрена клавиатура, но сейчас не обрабатывается).
- Исправлена ошибка, что модули делали was_changed если у них был GUI.
  Это проявлялось в том, например, что окно всегда восстанавливало размер, 
  если показывалось его GUI.

#### 2021-07-12
- Реализована функция repaint_() - обновление элемента, полезно для долгих операций.

#### 2021-07-10
- Реализован режим button_always - для кнопок, которые работают всегда,
и в режие редактирования, и в режиме запуска. 
А обычные кнопки теперь будут выключаться в режиме редактирования.
- Устранена ошибка, что "Don't save at exit" было включено по умолчанию.

#### 2021-04
- Встроен модуль Execute, который поддерживает постоянную связь с Python.
Это позволяет интегрировать алгоритмы ML с Xclu - так реализован EmoAI. 

#### 2020-12-25
- Встроены Compute Shaders
- Устранена проблема, что после Test Interface говорит, что проект был изменен
Recent Projects – также выключать при запущенном проекте, иначе падает с предупреждением.
Встроил Compute Shaders в SDK – вычисления на GPU без графики.
- Переименованы xcore_... в xc_
- Переименованы impl_update,… - в просто update, … чтобы было удобнее разработчикам модулей. 

#### 2020-11-29
-   Выровнен Grid в интерфейсе – то есть, компоненты размещают свои элементы в конкретным местах Grid.
-   Visible сделан список, поэтому separator и line работают корректно.
-   В документацию вписал про bang:  XCORE.bang(get_strings_bang_list());
-   Переименовал #include "xcluobjectimage.h" в xobjectimage.h
-   Прошелся по модулям и поставить где нужно «line» вместо separator


#### 2020-11-27
-   Сделаны слайдеры.
-   Добавлены модули ValueMap, Random, MotionDetector, SoundPlay.
-   WImage – обновлено, чтобы было изображение и флажок нового изображения.
-   Рефакторинг mapf -> xmapf.
-   Сборка для MacOS.


#### 2020-10-31
-	Убрана страница «Modulation Setup» в SoundOsc.
-	Реализован XModulePainter
-	Реализовано эффективное рисование XRaster_ на painter, без копирования пикселей.
-	Choose file/folder – восстановлена работа.
-	XItemObject – хранит всегда указатель. А уже модуль управляет памятью и ставит его, если out.
-	ProjectRuntime переименован в XCore
-	Добавлена функция draw растра на painter – для удобства
-	Заменены id кнопок на их функции button_...
-	Сделаны модули ImageLoader, Sleep, Random, TextVariation, PrintConsole. 

#### 2020-10-20
Реализация линков:

- XWasChangedKeeper, XwasChangedChecker – два класса для реализации проверки, что переменная была изменена. 
  Keeper встроен в XProtectedData – и помечает его как измененный при каждом обращении к write.
- Делаю проверку того, что XItem изменился между update
- Добавить стадию запуска проекта «compile» - компиляция ссылок.
- Кнопку проверки правильности линка в окне редактора линка и редакторе линков модуля.
- Скаляры – значения линка всегда копируются во время update. Только для in и const.
- Скаляры ставятся в переменные.
- Кстати, линки скаляров const – также нужно делать перед start.

#### 2020-10-19
-	Добавить в диапазоны переменных “*”:
0:* означает, что переменная больше либо равна 0.
-	Сейчас у float-переменных задаются размеры шагов изменеия, а не число шагов
-	XStruct переименован обратно в XObject

#### 2020-10-10
- XItem – сделать обязательным хранение Link, и показывать его, если включен. Это XItem_<T>.
- Рефекторинг папки components
- Добавить sdk_h.h, чтобы в нем добавлялись xraster и xref и другие модули, по необходимости
- XItemScalar_ - в него добавлены int,enum,string… - все скалярные типы. Здесь реализована обработка их контекстного меню.
- У элементов – виртуальная функция, которая готовит список меню. При этом, указывается, что это – просто или checkable (use link).
- Добавлен пункт меню View – Show Components Names для показа имен всех компонент xgui.

#### 2020-10-08
Сделал контекстное меню элементов, в первую очередь, для настройки Link.
- чтобы показывалось в зависимости от типа элемента
- чтобы отрабатывались checked  use link
- в консоль печатать link при команде Copy Link.
- реализовать то, что при включении Link он ставится как readonly,  
и еще как-то отмечается link (справа от label для двустроных и справа от всего элемента для int, float).
- записывать линки элементов в проект
- диалоговое окно “Edit link” – там поле ввода и еще кнопка использования линка.
- сделать, чтобы по правому крику link_label показывалось окно редактирования линка
- реализовано, чтобы редактор линка не останавливал работу – то есть, асинхронно. Для этого используется “open” диалога.
- окно Windows - Links Editor
- сделать тип XLink, состоящий из enabled и строки

#### 2020-10-04
- Raster переименован в XRaster. Это основа XItemImage.
- Введен универсальный класс - XRef, который хранит QScopedPointer,
Но внутри возможность делать указатель либо на него, либо на внешний объект.
- Убраны StructRead,Write и заменены на XStructProtected, но могут быть неучтенные моменты с новым вариантом защиты.

#### 2020-09-27
- Работа с json вынесена в отдельный модуль jsonutils.
- glm перенести в libs/glm
- В xgui вместо type(…) – теперь type_...:
  *  check_group
  *  string_file
  *  string_folder
  *  string_link_image
- Упрощена регистрация XModule.
- Реализовал регистрацию новых компонент.

#### 2020-09-21
- В enum для auto.h – менять спецсимволы “\r”, “\n”, “\t” на _r, _n, _t
- XDict переименовал в XStruct.
- xarray сделан одномерным.
- Перенес основное окно на ui
- Вынести recent files в отдельный класс

#### 2020-09-14
- Cделал экспорт XGUI в файл auto.h
- Пункт меню обновления интерфейса для всех встроенных модулей.
- Отладить компиляцию auto.
- getX,setX – заменить на getX_,setX_,was_changed_ - чтобы все места обращений детектировались.
- Встроить auto.h в модули.
- Убрать запись времени в auto.h

#### 2020-09-11
- Реализация функций getX, setX перенесена в ModuleInterface.
- Запись проекта – убрана запись типа и имени. Это сокращает объекм файла в ~2 раза.
- Перенес C++-реализацию встроенных модулей в их папки в builtin_modules
- ModuleInfo renamed to ModuleSeed
- InterfaceItem -> XItem
- InterfaceGui -> Xgui
- objects -> sdk/types

#### 2020-09-10
- Сделал простой механизм создания кастомных модулей, с помощью создания `pri`-файлов.
- RtModule переименован в XModule, а также реализована поддержка create_widget и sound_buffer_add для модулей.
- SDK для вызова виджетов с графикой, а также модулей для звука.
- Наследовал XModule от XClass – там уже есть module_  и getX, setX.
- Сделал runtime-функции в XClass (rt_...)


#### 2020-09-09
- Доступ к элементам GUI теперь называется 

    geti, getf, gets
    seti, setf, sets

- SDK: базовый класс  XClass, которых хранит свой модуль и предоставляет доступ.
- Переименовал XcluObject в XDict, то есть это словарь.
- Установил на Windows Qt 5.14.2, чтобы была отладочная информация.
- Сделан «малый» шаг для float и int, а также точность 3 для float. 
- Константы checkbox - при запуске теперь видно, включен или нет.
- Убрана темнота из ComboBox.


#### 2020-08-27
- Реализована обработка кнопок вызовом callback, даже если проект не запущен,
это очень удобно для вывода списка подключенных устройств. 
- Реализована работа с realsense Color/IR - запись на диск. 
- Встроена поддержка кастомных модулей, которые могут храниться вне основной папки исходников Xclu. 

#### 2020-08-22
- Сделано сохранение размера и состояния окна приложения. 
- Консоль унесена обратно влево. 
- Сделать показ hint для страниц. 
- Сделал инструкцию для запуска на Jetson Nano. 
- Отлажена выдача звука на Jetson Nano. 
- Восстановлена работа WWindow.


#### 2020-08-09
- Реализован класс Settings для удобного доступа к настройкам приложения. 
- Настройки приложения теперь хранятся в bin-папке приложения, xclu_settings.ini 
- Сделано открытие последнего проекта. 
- Диалоги перемещены в папку project/dialogs.

#### 2020-08-08
- Встраивание Python приостановлено, вместо этого встраиваю JS. 
- Добавил module_impl=JS 
- text,string,object,button - сделаны с новой строки под их Label - так для них более эффективно выделять место. 

#### 2020-08-05
- Избавились от id(), теперь у модуля только name().

#### 2020-08-02
 - Removed run_mode - its functionality will be implemented with Executor module.
 - Added themes.
 - Added docs/licenses.

#### 2020-07-31
 - Выложил код в Github. 
 - Включил авторизацию Google на форуме. 

 - Переименование:  
 - Window -> GuiWindow 
 - WNumber -> GuiNumber

 - Все, что связано с рендерингом, теперь “Sweet” - так как встраиваем наш GPU-рендер. 
 - Перенес в форум документ “Идея и стратегия”, а также вписал историю Xclu 
 - Сделал единую папку Xclu-bin для собранного xlu (Release/Debug) - чтобы в нем одном хранить питон. 
 - Python - установил в bin-папку. 
 - Встроил Donate на Github 
 - Попробовать запуск Python-интерпретатора. 
 - Исправил ошибку, что тестер интерфейса не устанавливал видимости элементов. 
 - Переименовывал описания модулей в impl,type 
 - Исправил проблему, что из-за путей к питону не запускался в отладочном режиме.

#### 2020-06
 - Добавилась схема для финальной сборки Выпуск-Deploy - которая берет файлы из xclu.qrc 
 - Сделать загрузку модулей из файловой системы, а не ресурсов - то есть, опцию в .pro. 
 - А то сейчас много времени на это тратится. 
 - Начал описывать документацию по API в forum. 

 - Сделал вкладку меню Developer, и там Test module interface... - он позволяет загружать XGUI-файл и переобновлять его без перезагрузки программы. Это позволит полуинтерактивно редактировать GUI модулей и тем самым ускоряет разработку новых модулей. Можно их редактировать в NotePad++ и затем нажимать Reload. 
#### ...
 - Проверить, что glm::vec3 - если есть векторы, то они инициализируются нулями, если это требуется. 
 - В таблице модулей чередовать цвета. 
 - Если названия модулей дублируется в Factory - это не отслеживаеся, исправить.  
 - Название категорий модулей указывать, заменяя подчеркивание на пробел. 
 - Определять класс и категорию встроенных модулей по названию папки категории и модуля. 
 - Развернул форум forum.xclu.dev 
 - Устранил проблемы - падало при вторичном показе окна, и при использовании VerticalLayout. 
#### ...
 - Оформил в темной цветовой схеме. 
 - Сделал сайт на bootstrap - xclu.dev и завел проект на GitHub  
#### ...
 - Window вызывает при старте IntGui и запрашивает его pointer виджета.   
 - Делаю WInt - показ целого в окошке. 
 - Чтобы его поместить - Структура Window, куда он вставляется. И передавать указатель.  
 - Window - сделал парсинг структуры окна. 
#### ...
 - например, out(not_save) 
 - Send_Calls, Accept_Calls в Control модуля - сделать пометку в XGUI, что эти данные не записываются на диск. Так как это может меняться при обновлениях модуля. 
#### ...
 - Сделать Help-вкладку. Для ускорения загрузки - возможно, стоит кэшировать загруженный help в modulefactory – lazy loader. 
 - Встроил GLM , лицензия в папке licenses 
 - Сделать Window - размер и положение. 
#### ...
 - Сейчас реализована проверка изменений данных с помощью was_changed(). Реализация - как “ленивая” схема проверки того, изменились ли объекты - то есть ,если к объекту обращались с помощью ObjectReadWrite, то считается, что он изменился. А элементы интерфейса - если их int,float или string данные изменились. Это сделано для того, чтобы не наглужать все элементы отслеживать свои изменения, если это не нужно. Зато текущий механизм позволяет не создавать копии данных с интерфейсом в реализации модулей. Теперь можно просто проверить, изменился ли элемент и чдел 

 - Сделал два объекта - ObjectRead и ObjectReadWrite - первый позволяет только считывать объект, а второй - и писать. 
v. 122. 
#### ...
- Окно выбора модуля - поиск по названию, сделать “Search” с полем ввода для запроса. 
#### ...
- Это реализовать дополнительной строкой Description 
- в int, float, stringlist 
- Сделать label справа от элемента - для подписи единиц измерения  
- Модули, которые еще не реализованы - делать не bold в списке при добавлении. 
- Выбор модулей: вместо tabs сделал слева список категорий, а справа список модулей категории. 
- Странслировать в Release. 
#### ...
 - Но при этом в этом объекте могут быть опциональные параметры, типа громкости. 
 - Например, SynthFromImage:     add_sound_buffer 
 - И это показывать на последней вкладке 
 - описанием названия функции и входного и выходного типа. 
 - При этом, каждый модуль объявляет, какие функции он обрабатывает,  
 - Реализовать call(function_name, ErrorInfo, input,output) 
#### ...
- При работе с изображениями - перейти на ObjectAccess. 
- При создании изображений сделать allocate - чтобы далее можно было самому заполнять массив. 
#### ...
- Воспроизведение 
- а также сбор звукового буфера - перечислением через пробел модулей, где получить результат.  
- Для этого подключить звуковую систему Qt, и реализовать callbcacks модулей,  
- Синтез - https://doc.qt.io/qt-5/qaudiooutput.html 
- Реализую звук. https://doc.qt.io/qt-5/audiooverview.html  
#### ...
- В модуле добавить заготовку для создания id: module_id_hint=webcam - чтобы было удобнее писать id 
#### ...
- Реализую новый механизм режимов работы модуля - без active, и с большим числом вариантов, и с возможность Callback. Реализовал и проверил это в Test. 
#### ...
- Для всех объектов вывод размера объекта в байтах. 
- Реализовать описание объекта - если изображение, то размеры и каналы, 

Показ изображения на Label: 
- XcluImage Preview для быстрого построения превью, чтобы выводить на label. 
- Конвертация изображения Xclu в QImage и обратно. 
- Тип для представления объектов XcluObject. 

- Загрузка кадра с камеры. 
- Webcamera. 
Делать модули просто по-порядку, выбирая по желанию те, которые уже вписаны. 
#### ...
- Кнопки Add,Delete - сейчас занимают очень много места, сделать их иконками в один ряд. 
#### ...
- Сделать модуль Execute и на его основе проработать структуру выполняемого модуля - работу с переменными интерфейса, активацию выполения и обработку ошибок. 
- Сделал более мягкий контроль ошибок при загрузке проекта - список ошибок выдается в консоли. 
(Подобный механизм можно сделать и для элементов управления, чтобы убрать бесконечные “case” в их конструкторах.) 
- Реализации Qt-модулей регистрируют себя автоматически путем размещения вызова макроса REGISTRAR(Имя) в своих CPP-файлах.  
- Сделать, чтобы константы не менялись в режиме Run. 
#### ...
- Технически, каждый GUI-элемент хранит список тех, кто он него зависит, и при изменении - отправляет сигнал на обновление. Для этого в ModuleInterface собирается список таких связей, и при создании GUI он вставляется в элементы. 
- Реализация IF- показ элемента GUI по условию. 
#### ...
- Если пользователь изменил модули или переменные - то ставить пометку, что проект изменен. 
- Реализовать запись проекта на диск и считывание с диска. 
#### ...
- Сделать, чтобы можно было сохранять можно во время выполнения.  
- Recent Projects - из примера SDI 
- Реализовать кнопки удаления и прочих - работы с модулями. 
- Реализовать редактирование Id в параметрах модуля - и проверку его уникальности при запуске. 
#### ...
- “Error string” 
- “Error checkbox” 
- “On error – ignore, message, stop, stop & message” 
- Обработка ошибок - добавить в General 
#### ...
- Сделать, чтобы во время запуска кнопки редактирования модулей были неактивны. 
- Запись и считывание значений в GUI, и реакцию на start/update. Также, запоминаю в интерфейсе модуля tab и положения слайдеров. 
- При наведении на Label - показывается имя переменной и описание 
- Сделать, чтобы out нельзя было редактировать. 
- Показ типа переменной - in,out,const. 
#### ...
- Реализация базового вычислительного модуля - RtModule. Он общаетя с Module через ModuleInterface 
- Пример SDI 
#### ...
- Реализовать хранение настроек проекта, чтобы окно выбора модулей хранило последний выбор. 
- Сделать внутреннее имя Id для программирования. 
- При ошибке парсинга - генерируется исключение, которое перехватывает FACTORY. 
#### ...
- EditorModules наполняется по ModuleInterface. 
- ModuleInterface - здесь GUI пропарсенный, невизуальный, с переменными 
- ModuleInfo - описание модуля и строки описания GUI, нераспарсенные, из него строится: 
- Создание Qt-элементов для классов. 
- InterfaceGui - визуальное представление, связанное с переменной. Также, несколько классов. 
- InterfaceItem - одна переменная 
#### ...
- GUI проходит по этому списку и выстраиваются станицы, а также управление включенностью/выключенностью. 
- ModuleInterface - них и переменные, и описание интерфейса. 
- Парсинг GUI модуля.  
#### ...
- Поэтому при создании нового - имя генерируется. 
- Он общается с невизуальным проектом, и тот сообщает, что изменилось - выделенный модуль, или обновился список модулей. У каждого уникальное имя. 
- EditorModules 
- Редактор списка модулей проекта. 
- Project 
- Понятие проекта как список модулей и настроек их параметров.  
- Показ в виде таблицы 
- Module  -  класс модуля, содержащий невизуальный интерфейс (ModuleInterface) и исполнительную часть (RtModule) 
- FACTORY - список модулей и генератор новых модулей 
- Таблица модулей 


